# 13. 백업 및 복구

## 재해 복구 계획

> 재해 발생 시 인프라를 보호하는 데 사용할 수 있는 전략

![[13. 백업 및 복구-1689746123223.jpeg]]

### 가용성 개념

- 고가용성
    - 애플리케이션의 가동 중단 시간 최소화
- 내결함성
    - 서비스 중단이 발생하지 않도록 애플리케이션 구성 요소에 내장된 중복성
- 백업
    - 데이터 복구 가능
- 재해 복구
    - 자연재해로 인해 데이터 원본 손상 시 복원 가능

### 장애 조치 및 리전

![[13. 백업 및 복구-1689746434185.jpeg]]

- AWS는 전 세계적으로 여러 리전에서 사용할 수 있다.
- 시스템을 완전하게 배포할 사이트 외에 재해 복구 사이트로 가장 적합한 로케이션을 선택할 수 있다.

### RPO(복구 시점 목표) 및 RTO(복구 시간 목표)

![[13. 백업 및 복구-1689746800189.jpeg]]

### 스토리지 복제

![[13. 백업 및 복구-1689747033004.jpeg]]

### 복구용 AMI 구성

![[13. 백업 및 복구-1689747143448.jpeg]]

- 새로운 서버 인스턴스 및 컨테이너를 몇 분만에 확보하고 부팅할 수 있다.

### 장애 조치 네트워크 설계

![[13. 백업 및 복구-1689747337238.jpeg]]

### 데이터베이스 백업 및 복제본

![[13. 백업 및 복구-1689747411474.jpeg]]

DynamoDB - PITR -> 특정 시점으로 복원 가능

### 템플릿 및 스크립트

![[13. 백업 및 복구-1689747496117.jpeg]]

## AWS Backup

![[13. 백업 및 복구-1689747510948.jpeg]]

- 완전관리형 백업 서비스
- 중앙에서 모든 서비스를 자동으로 백업해줌
- 간편성
- 규정 준수
- 비용 제어

![[13. 백업 및 복구-1689747593652.jpeg]]

## 복구 전략

> 가동 중단 시간을 최소화할 수 있는 비용 효율적인 재해 복구 전략

### 백업 및 복원

![[13. 백업 및 복구-1689747647381.jpeg]]

### 파일럿 라이트

![[13. 백업 및 복구-1689747690077.jpeg]]

![[13. 백업 및 복구-1689747698005.jpeg]]

> 분 단위로 장애 대처 가능

### 웜 스탠바이

![[13. 백업 및 복구-1689747726353.jpeg]]

- 저용량으로 실행하면서 트래픽 10%정도만 줌

![[13. 백업 및 복구-1689747761244.jpeg]]

- 장애가 발생하면 Auto Scaling하여 전체 용량으로 확장함

### 다중 사이트 액티브-액티브

![[13. 백업 및 복구-1689747816547.jpeg]]

![[13. 백업 및 복구-1689747824386.jpeg]]

- 웜 스탠바이와 유사하지만 평소에도 전체 용량으로 가동한다
- 비싸다

### AWS에서 흔히 사용되는 DR 사례 비교

![[13. 백업 및 복구-1689747905842.jpeg]]



